# MusicBox 唱片播放器（网易云稳定终版）

> 🎵 WordPress 插件：单曲 / 歌单导入，JSON接口，缓存，随机或顺序播放

<img width="800" height="533" alt="image" src="https://github.com/user-attachments/assets/ab7feeaa-fd96-45b0-9bcb-afa6340acb9b" />




## 在线体验

想直观感受插件效果？访问 **[在线体验地址](https://sky.sfcrom.com)** 就对啦！  
你会看到：

- 🎵 点击唱片播放 / 暂停  
- 🔄 双击切歌  
- 🖱️ 鼠标悬浮显示萌萌提示  
- 🎀 **滚轮调音量小功能**：可爱提示 + 小音符动画，边调边嗨  
- 🎨 封面自动旋转，视觉体验加分  

> 这不仅是播放器，也是一个小小互动乐趣，绝对比普通音量条萌多啦~  

---
<img width="800" height="533" alt="image" src="[https://github.com/user-attachments/assets/ab7feeaa-fd96-45b0-9bcb-afa6340acb9b](https://github.com/719729765/musicbox-record-player/blob/main/2026-01-19_232228.png)" />

## 开发者语

说起来，这个插件是我半夜折腾博客时顺手做的——目标很简单：**简洁、稳定，还能有点小趣味**。  
结果越做越多彩，藏了这些小心机：缓存、防失败播放、封面旋转动画，甚至**滚轮调音量还有萌萌提示和小音符飘起来**，完全是自己用着爽顺手加的 😎  

如果你也是 WordPress 博客党，想在文章里放音乐又不想折腾复杂播放器，MusicBox 可能刚好合适你。  
当然啦，我很期待你们的反馈、BUG 报告、脑洞功能，开源嘛，就得一起玩~ 🎉


> 体验地址提供了真实的使用场景，让你无需安装就能快速感受 MusicBox 的功能。

---


## 插件简介

**MusicBox** 是一款为 WordPress 量身打造的网易云音乐播放器插件。  
它支持：

- 单曲或整张歌单导入（网易云歌单ID）  
- 自动缓存 24 小时，防止频繁请求失败  
- 播放模式可选：**随机播放** 或 **顺序播放**  
- 单曲自动补全 URL 与封面，免去手动寻找 MP3 链接  
- 简洁前端播放器，支持点击播放 / 暂停、双击切歌、鼠标滚轮调音量  

> 如果你想在博客或者个人网站里优雅地放音乐，这个插件几乎满足所有需求。

---

## 功能亮点

- 🎧 **歌单导入**：只需输入网易云歌单 ID，即可一键导入  
- 🛡 **缓存机制**：每个歌单缓存 24 小时，减少请求失败  
- 🔄 **播放模式**：随机播放 / 顺序播放自由切换  
- 🎨 **前端展示**：小巧唱片播放器，自动旋转封面  
- 😺 **互动体验**：悬浮显示提示，滚轮调节音量，小音符动画  
- ⚡ **自动补全**：输入单曲 ID 自动获取 MP3 URL 和封面  

---

== Changelog ==

= 3.3.1 - 2026-01-19 =
* **核心播放状态统一管理**：修复随机播放/顺序播放索引错误。
* **提示弹窗优化**：  
  - 滚轮调节音量提示自动 2 秒消失  
  - 单击播放和双击切歌提示合并为同一弹窗  
  - 修复 volBar 重复添加问题
* **Ajax 安全性增强**：单曲和歌单接口增加 nonce 校验
* **后台管理优化**：同步状态修复，界面样式微调
* **前端交互改进**：鼠标悬浮音量调节、音符动画流畅
* CSS 微调，移动端隐藏播放器，桌面端显示美观

= 3.3.0 - 2025-12-28 =
* 初始稳定终版发布，支持单曲/歌单导入及随机/顺序播放
* 前端播放控件、滚轮调音量、双击切歌功能实现
* Ajax 接口支持网易云 JSON 自动补全和缓存

## 安装方法

### 方式一：通过 WordPress 后台安装

1. 下载插件压缩包 `musicbox.zip`  
2. 登录 WordPress 后台 → 插件 → 安装插件 → 上传插件  
3. 激活插件即可使用  

### 方式二：手动安装

1. 下载插件源码  
2. 上传到 `/wp-content/plugins/musicbox/`  
3. 登录后台 → 插件 → 激活插件  

---

## 使用说明

1. 激活插件后，进入 **设置 → MusicBox 唱片播放器**  
2. 选择 **播放模式**：随机播放 / 顺序播放  
3. 导入歌单：输入网易云歌单 ID → 点击 **导入歌单**  
4. 可手动添加单曲或编辑封面 / URL  
5. 页面底部会显示小巧唱片播放器，可点击播放/暂停，滚轮调音量，双击切歌  

> ⚠️ 注意：插件依赖网易云 API，部分歌曲可能版权限制无法播放。  

---

## 示例用法

在文章中只需保持插件激活即可自动显示播放器，无需额外 shortcode 或调用。  

### 单曲自动补全示例

输入单曲网易云 ID 后点击“自动补全”，插件会自动填充 MP3 链接和封面。

### 歌单导入示例

输入歌单 ID，点击“导入歌单”，插件会获取歌单所有歌曲信息，并自动缓存 24 小时。

---

## 开发者信息

- **作者**：码铃薯  
- **版本**：3.2.0  
- **官方网站**：[www.tudoucode.cn](https://www.tudoucode.cn)

---

## 贡献指南

如果你想参与开发或提交问题：

1. Fork 本仓库  
2. 创建新分支 `feature/xxx`  
3. 提交代码并发起 Pull Request  

欢迎提出优化建议或分享使用体验！  

---

## LICENSE

MIT License © 码铃薯
